/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */
 
!function(n,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():n.NProgress=e()}(this,function(){function t(n,e,t){return n<e?e:t<n?t:n}function l(n){return 100*(-1+n)}function i(n,e){return 0<=("string"==typeof n?n:o(n)).indexOf(" "+e+" ")}function s(n,e){var t=o(n),r=t+e;i(t,e)||(n.className=r.substring(1))}function e(n,e){var t,r=o(n);i(n,e)&&(t=r.replace(" "+e+" "," "),n.className=t.substring(1,t.length-1))}function o(n){return(" "+(n&&n.className||"")+" ").replace(/\s+/gi," ")}function a(n){n&&n.parentNode&&n.parentNode.removeChild(n)}var r,u,d={version:"0.2.0"},f=d.settings={minimum:.08,easing:"linear",positionUsing:"",speed:350,trickle:!0,trickleSpeed:250,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};d.configure=function(n){var e,t;for(e in n)void 0!==(t=n[e])&&n.hasOwnProperty(e)&&(f[e]=t);return this},d.status=null,d.set=function(o){var n=d.isStarted();o=t(o,f.minimum,1),d.status=1===o?null:o;var s=d.render(!n),a=s.querySelector(f.barSelector),u=f.speed,c=f.easing;return s.offsetWidth,m(function(n){var e,t,r,i;""===f.positionUsing&&(f.positionUsing=d.getPositioningCSS()),p(a,(e=o,t=u,r=c,(i="translate3d"===f.positionUsing?{transform:"translate3d("+l(e)+"%,0,0)"}:"translate"===f.positionUsing?{transform:"translate("+l(e)+"%,0)"}:{"margin-left":l(e)+"%"}).transition="all "+t+"ms "+r,i)),1===o?(p(s,{transition:"none",opacity:1}),s.offsetWidth,setTimeout(function(){p(s,{transition:"all "+u+"ms linear",opacity:0}),setTimeout(function(){d.remove(),n()},u)},u)):setTimeout(n,u)}),this},d.isStarted=function(){return"number"==typeof d.status},d.start=function(){d.status||d.set(0);var n=function(){setTimeout(function(){d.status&&(d.trickle(),n())},f.trickleSpeed)};return f.trickle&&n(),this},d.done=function(n){return n||d.status?d.inc(.3+.5*Math.random()).set(1):this},d.inc=function(n){var e=d.status;return e?1<e?void 0:("number"!=typeof n&&(n=0<=e&&e<.25?(3*Math.random()+3)/100:.25<=e&&e<.65?3*Math.random()/100:.65<=e&&e<.9?2*Math.random()/100:.9<=e&&e<.99?.005:0),e=t(e+n,0,.994),d.set(e)):d.start()},d.trickle=function(){return d.inc()},u=r=0,d.promise=function(n){return n&&"resolved"!==n.state()&&(0===u&&d.start(),r++,u++,n.always(function(){0==--u?(r=0,d.done()):d.set((r-u)/r)})),this},d.render=function(n){if(d.isRendered())return document.getElementById("nprogress");s(document.documentElement,"nprogress-busy");var e=document.createElement("div");e.id="nprogress",e.innerHTML=f.template;var t,r=e.querySelector(f.barSelector),i=n?"-100":l(d.status||0),o=document.querySelector(f.parent);return p(r,{transition:"all 0 linear",transform:"translate3d("+i+"%,0,0)"}),f.showSpinner||(t=e.querySelector(f.spinnerSelector))&&a(t),o!=document.body&&s(o,"nprogress-custom-parent"),o.appendChild(e),e},d.remove=function(){e(document.documentElement,"nprogress-busy"),e(document.querySelector(f.parent),"nprogress-custom-parent");var n=document.getElementById("nprogress");n&&a(n)},d.isRendered=function(){return!!document.getElementById("nprogress")},d.getPositioningCSS=function(){var n=document.body.style,e="WebkitTransform"in n?"Webkit":"MozTransform"in n?"Moz":"msTransform"in n?"ms":"OTransform"in n?"O":"";return e+"Perspective"in n?"translate3d":e+"Transform"in n?"translate":"margin"};var m=function(){function e(){var n=t.shift();n&&n(e)}var t=[];return function(n){t.push(n),1==t.length&&e()}}(),p=function(){function r(n){return n=n.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(n,e){return e.toUpperCase()}),e[n]||(e[n]=function(n){var e=document.body.style;if(n in e)return n;for(var t,r=s.length,i=n.charAt(0).toUpperCase()+n.slice(1);r--;)if((t=s[r]+i)in e)return t;return n}(n))}function o(n,e,t){e=r(e),n.style[e]=t}var s=["Webkit","O","Moz","ms"],e={};return function(n,e){var t,r,i=arguments;if(2==i.length)for(t in e)void 0!==(r=e[t])&&e.hasOwnProperty(t)&&o(n,t,r);else o(n,i[1],i[2])}}();return d});
